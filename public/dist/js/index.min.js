(function(e,n){typeof exports==="object"&&typeof module!=="undefined"?n():typeof define==="function"&&define.amd?define(n):n()})(this,function(){"use strict";function e(e,n){var t=n||[];return function n(){var i={};var r=Object.create(Object.assign({},e,{_onChange:function(e){var n=i[e]||[];n.forEach(function(e){e()})},on:function(e,n){var t=i[e]||[];t.push(n);i[e]=t;return this}}));t.forEach(function(e){var n;Object.defineProperty(r,e,{get:function(){return n},set:function(t){n=t;this._onChange(e)}})});return r}}var n={toggle:function(){this.accordion.toggleItem(this)}};var t={addItem:function(e){this.items.push(e);return this},toggleItem:function(e){if(this.items.indexOf(e)!==-1){this.items.forEach(function(n){if(n===e){n.isOpen=!n.isOpen}else{n.isOpen=false}})}}};var i=e(n,["isOpen"]);function r(e){var n=[];return Object.create(t,{items:{value:n},el:{value:e}})}function o(e,n){var t=n.id;var r=t.split("-");r.push("menu");var o=r.join("-");var a=window.location.hash==="#"+o;const c=i();Object.defineProperty(c,"accordion",{value:e});Object.defineProperty(c,"el",{value:n});c.on("isOpen",function(){var e=n;setTimeout(function(){e.href=c.isOpen===true?"#banner":"#"+o;e.setAttribute("aria-expanded",c.isOpen===true)},100)});c.isOpen=a;return c}var a=r();var c=[].slice.call(document.querySelectorAll("a[aria-haspopup]"));var u=c.map(function(e){return o(a,e)});u.forEach(function(e){a.addItem(e);e.el.addEventListener("click",e.toggle.bind(e))})});